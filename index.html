<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>çº¿ä¸Šå¯»å®æ¸¸æˆ</title>
  <style>
    html,body{margin:0;padding:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";background:#0f1220;color:#f6f7fb}
    .wrap{max-width:840px;margin:0 auto;padding:32px 20px}
    .card{background:#14182b;border:1px solid #232847;border-radius:16px;padding:20px;margin:16px 0;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    h1{font-size:28px;margin:0 0 8px}
    h2{font-size:20px;margin:8px 0 12px;color:#c9d1ff}
    .meta{opacity:.8;font-size:14px;margin-bottom:12px}
    .riddle{font-size:18px;line-height:1.6}
    input[type=text]{width:100%;padding:12px 14px;border-radius:10px;border:1px solid #31365a;background:#0f1220;color:#e8ebff;outline:none}
    button{margin-top:10px;padding:10px 16px;border-radius:10px;border:0;background:#6a6ff5;color:white;font-weight:600;cursor:pointer}
    button:disabled{opacity:.6;cursor:not-allowed}
    .ok{color:#3ddc97;font-weight:600}
    .bad{color:#ff6b6b}
    .hint{opacity:.85;font-size:14px;margin-top:8px}
    .stage{display:none}
    .stage.active{display:block}
    .footer{opacity:.7;font-size:12px;text-align:center;margin-top:24px}
    code,pre{background:#0c0f1e;border:1px solid #232847;border-radius:8px;padding:12px;display:block;overflow:auto}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}
    a{color:#9ab0ff}
    .tag{display:inline-block;background:#232847;border:1px solid #2e355c;color:#dfe3ff;border-radius:999px;padding:2px 10px;font-size:12px;margin-right:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>ğŸ‰å°å®çº¿ä¸Šå¯»å®æ¸¸æˆ</h1>
      <div class="meta">è§„åˆ™ï¼šæ¯å…³è¾“å…¥æ­£ç¡®ç­”æ¡ˆæ‰èƒ½è§£é”ä¸‹ä¸€å…³ã€‚ç­”æ¡ˆä¸åŒºåˆ†ä¸­è‹±æ–‡å¤§å°å†™ï¼Œæ³¨æ„å»æ‰ç©ºæ ¼ã€‚</div>
      <div class="meta">Tipsï¼šå¦‚æœä½ åœ¨æŸä¸€å…³å¡å¡ä½äº†ï¼Œå¯ä»¥å°è¯•åˆ·æ–°é¡µé¢é‡æ–°å¼€å§‹ã€‚</div>
    </div>

    <div id="game"></div>

    <div class="footer">Made with â¤ï¸ </div>
  </div>

<script>
/**
 * ä½ å¯ä»¥åœ¨è¿™é‡Œè½»æ¾è‡ªå®šä¹‰å…³å¡ï¼š
 * - text: é¢˜é¢
 * - answer: æ­£ç¡®ç­”æ¡ˆï¼ˆæ•°ç»„ä¸­ä»»ä¸€åŒ¹é…å³å¯ï¼‰
 * - hint: æç¤ºï¼ˆå¯é€‰ï¼‰
 * - joke: è¿‡å…³åæ˜¾ç¤ºçš„å½©è›‹åæ§½ï¼ˆå¯é€‰ï¼‰
 */
const STAGES = [
  {
    text: "ç¬¬1å…³ï¼šè°æ˜¯ä¸–ç•Œä¸Šæœ€ä¼Ÿå¤§çš„çƒé˜Ÿï½ï¼Ÿ",
    answer: ["æ›¼è”","æ›¼å½»æ–¯ç‰¹è”","Manchester United","manchester united","manu","æ›¼è”é˜Ÿ"],
    hint: "æç¤ºï¼šè¿™é¢˜ä¸éœ€è¦æç¤º",
    joke: "ç­”å¯¹å•¦ï¼æ„Ÿæƒ…æ›²çº¿å·²ç»çªç ´å¤©é™…çº¿ğŸ“ˆã€‚"
  },
  {
    text: "ç¬¬2å…³ï¼šä»Šå¤©æ˜¯æˆ‘ä»¬åœ¨ä¸€èµ·å¤šå°‘å¤©ï¼Ÿï¼ˆæ ¼å¼ï¼šæ•°å­—+å¤©ï¼Œä¾‹å¦‚ï¼š100å¤©ï¼‰",
    answer: ["500å¤©","äº”ç™¾å¤©","500","äº”ç™¾"],
    hint: "æç¤ºï¼šè¿™ä¸ªè¾¾ä¸å¯¹ç½šæ¬¾500å…ƒå“¦ï½",
    joke: "bbå‰å®³ï¼"
  },
  {
    text: "ç¬¬3å…³ï¼šæˆ‘æœ€å¸¸è¯´çš„å£å¤´ç¦…æ˜¯ï¼Ÿï¼ˆä¾‹å¦‚ï¼š'bbæˆ‘é¥¿äº†' / 'bbæˆ‘ç¡è§‰' / 'bbå†²é¸­'ï¼‰",
    answer: ["bbæˆ‘å›°äº†"],
    hint: "æç¤ºï¼šä½ æ˜¯ä¸æ˜¯å·²ç»åœ¨æ¨¡ä»¿æˆ‘è¯´è¯äº†ï¼Ÿ",
    joke: "åŸæ¥æˆ‘æ¯æ¬¡éƒ½è¢«ä½ å·å·è®°ä½äº†å˜»å˜»"
  },
  {
    text: "ç¬¬4å…³ï¼šæˆ‘å¤šé«˜ï¼Ÿ",
    answer: ["179","178","177","180","176"],
    hint: "",
    joke: "è¾“å…¥172æ‰£5åˆ†"
  },
  {
    text: "ç¬¬5å…³ï¼šæœ€åä¸€é¢˜ï¼ è°è¦ç»™å¯¹æ–¹ä¹°å»æ—…æ¸¸çš„æœºç¥¨ï¼Ÿ",
    answer: ["æˆ‘","å§œç¥","Minnie","å§œè‹¥å¿»"],
    hint: "",
    joke: "ç­”å¯¹äº†ï¼bbèªæ˜ï¼"
  }
];

// ä½ ä¹Ÿå¯ä»¥å°†ç­”æ¡ˆæ”¹æˆä½ ä»¬çš„ä¸“å±å…³é”®è¯ï¼Œä¸Šé¢çš„é»˜è®¤åªæ˜¯â€œæç¬‘é€šç”¨ç‰ˆâ€ã€‚

const $game = document.getElementById('game');

function createStage(i, total){
  const s = STAGES[i];
  const el = document.createElement('div');
  el.className = 'card stage' + (i===0?' active':'');

  el.innerHTML = `
    <h2>å…³å¡ ${i+1} / ${total}</h2>
    <div class="riddle">${s.text}</div>
    <input type="text" placeholder="åœ¨æ­¤è¾“å…¥ç­”æ¡ˆâ€¦"/>
    <button>æäº¤</button>
    <div class="msg"></div>
    ${s.hint ? `<div class="hint">ğŸ’¡ ${s.hint}</div>` : ''}
  `;

  const input = el.querySelector('input');
  const btn = el.querySelector('button');
  const msg = el.querySelector('.msg');

  function normalize(t){
    return (t||'').toLowerCase().replace(/\s+/g, '').trim();
  }

  btn.addEventListener('click', () => {
    const val = normalize(input.value);
    const ok = (s.answer||[]).some(ans => normalize(ans) === val);
    if(ok){
      msg.innerHTML = `<span class="ok">âœ… æ­£ç¡®ï¼</span> ${s.joke ? s.joke : ''}`;
      btn.disabled = true;
      input.disabled = true;
      setTimeout(()=>{
        el.classList.remove('active');
        if(i+1 < total){
          document.querySelectorAll('.stage')[i+1].classList.add('active');
        }else{
          showFinal();
        }
      }, 9000);
    }else{
      msg.innerHTML = `<span class="bad">âŒ å†æƒ³æƒ³ï¼</span>`;
    }
  });

  return el;
}

function showFinal(){
  // 1) å…ˆåˆ›å»ºå¹¶æ’å…¥ç»ˆç‚¹å¡ç‰‡ï¼ˆä¸åœ¨ innerHTML é‡Œæ”¾ <script>ï¼‰
  const final = document.createElement('div');
  final.className = 'card stage active';
  final.innerHTML = `
    <h2>ğŸ ç»ˆæç¤¼ç‰© Â· çˆ±å¿ƒåŠ¨ç”»</h2>
    <pre id="heart" style="font-family: monospace; line-height: 1em; font-size: 14px; white-space: pre; color:#ff5e9c;"></pre>
  `;
  $game.appendChild(final);

  // 2) ç„¶åç”¨è„šæœ¬ç”Ÿæˆå¹¶é€è¡Œæ‰“å°çˆ±å¿ƒï¼ˆæ­¤æ—¶ DOM å·²å°±ç»ªï¼‰
  const heart = final.querySelector('#heart');
  const lines = [];
  for (let y = 15; y >= -15; y--) {
    let row = '';
    for (let x = -30; x < 30; x++) {
      const X = x * 0.04, Y = y * 0.1;
      const expr = X * X + Y * Y - 1;
      row += (Math.pow(expr, 3) - X * X * Math.pow(Y, 3) <= 0) ? 'â¤' : ' ';
    }
    lines.push(row);
  }

  let i = 0;
  (function printLine(){
    if (i < lines.length) {
      heart.textContent += lines[i++] + '\n';
      setTimeout(printLine, 50); // æ‰“å­—æœºæ•ˆæœ
    } else {
      heart.textContent += "\nFrom me to you. äº”ç™¾å¤©å¿«ä¹å°å® â¤ï¸";
    }
  })();
}

(function init(){
  STAGES.forEach((_, i) => $game.appendChild(createStage(i, STAGES.length)));
})();
</script>
</body>
</html>
